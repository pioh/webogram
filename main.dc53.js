!function(t){function e(e){for(var i,s,n=e[0],r=e[1],h=0,u=[];h<n.length;h++)s=n[h],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&u.push(o[s][0]),o[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);for(l&&l(e);u.length;)u.shift()()}function i(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var s={},o={0:0};i.e=function(t){var e=[],s=o[t];if(0!==s)if(s)e.push(s[2]);else{var n=new Promise((function(e,i){s=o[t]=[e,i]}));e.push(s[2]=n);var r,h=document.createElement("script");h.charset="utf-8",h.timeout=120,i.nc&&h.setAttribute("nonce",i.nc),h.src=function(t){return i.p+""+({}[t]||t)+"."+{1:"94dc",2:"29cb"}[t]+".js"}(t);var l=new Error;r=function(e){h.onerror=h.onload=null,clearTimeout(u);var i=o[t];if(0!==i){if(i){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",l.name="ChunkLoadError",l.type=s,l.request=n,i[1](l)}o[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:h})}),12e4);h.onerror=h.onload=r,document.head.appendChild(h)}return Promise.all(e)},i.m=t,i.c=s,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw t};var n=window.webpackJsonp=window.webpackJsonp||[],r=n.push.bind(n);n.push=e,n=n.slice();for(var h=0;h<n.length;h++)e(n[h]);var l=r;i(i.s=7)}([function(t){t.exports={root:"Q8cY",withLabel:"c2Go",open:"_1et4",input:"r-kJ",upperSelect:"_1B_J",list:"_3MFT"}},function(t){t.exports={root:"kfXA",input:"_6J4F"}},function(t){t.exports={root:"_1d6U",logo:"_1ttR"}},function(){},function(){},,,function(t,e,i){"use strict";function s(t,...e){let i=document.createElement("template");return i.innerHTML=t.reduce((t,i,s)=>t+i+e[s],"").trim(),i.content.firstChild}i.r(e);const o=[{id:1,host:"149.154.175.50",port:80,domain:"pluto",isTest:!1},{id:2,host:"149.154.167.51",port:80,domain:"venus",isTest:!1},{id:3,host:"149.154.175.100",port:80,domain:"aurora",isTest:!1},{id:4,host:"149.154.167.91",port:80,domain:"vesta",isTest:!1},{id:5,host:"149.154.171.5",port:80,domain:"flora",isTest:!1},{id:1,host:"149.154.175.10",port:80,domain:"pluto",isTest:!0},{id:2,host:"149.154.167.40",port:80,domain:"venus",isTest:!0},{id:3,host:"149.154.175.117",port:80,domain:"aurora",isTest:!0}],n=[],r=[1615239032,[n],[85337187,[n,n,[],[[],[]]]]],h=[];class l{constructor(t){this.size=t&&t.length||0,this.buf32=t||h.pop()||new Uint32Array(new ArrayBuffer(64)),this.buf8=new Uint8Array(this.buf32.buffer)}destroy(){this.buf32.fill(0),h.push(this.buf32),this.buf32=null,this.buf8=null}prepend(t){this.resize(t.size),this.buf32.copyWithin(t.size,0,this.size);for(let e=0;e<t.size;e++)this.buf32[e]=t.buf32[e];this.size+=t.size}writeU8A(t){t instanceof Uint32Array?t=new Uint8Array(t.buffer):t instanceof ArrayBuffer&&(t=new Uint8Array(t));let e=Math.ceil(t.buffer.byteLength/4);this.resize(e);for(let e=0;e<t.length;e++)this.buf8[4*this.size+e]=t[e];this.size+=e}writeLong(t){this.writeInt(...t)}writeInt(...t){this.resize(t.length);for(let e of t)e<0&&(e+=4294967296),this.buf32[this.size++]=e}writeIntAt(t,e){t<0&&(t+=4294967296),this.buf32[e]=t}writeMethod(t,e){this.writeInt(t[0]);for(let i=0;i<t[1].length;i++)this.writeType(t[1][i],e[i])}writeType(t,e){switch(t){case n:return void this.writeU8A(e)}}getBuffer(){return new Uint32Array(this.buf32.buffer,0,this.size)}resize(t){if(4*(this.size+t)>this.buf8.buffer.byteLength){let e=Math.max(this.buf8.buffer.byteLength/2,this.size+t+1),i=new Uint32Array(new ArrayBuffer(4*e));for(let t=0;t<this.size;t++)i[t]=this.buf32[t];this.buf32=i,this.buf8=new Uint8Array(this.buf32.buffer)}}}let u=null;var a=i(0);let d=null,c=null;const f=220,p=56;class m{constructor(){this.domRoot=null,this.domInput=null,this.domUL=null,this.options=[],this.class=new Set([a.root]),this.scroll=0,this.offset=0,this.emoji=new Map,this.country=[],this.itemsCount=0,this.code="",this.value="",this.onInputClick=()=>{this.mountSelect()},this.onFocus=()=>{this.mountSelect()},this.onBlur=()=>{},this.onInput=async()=>{if(!this.domInput)return;await d;let t=this.domInput.value;this.options=this.country.map(e=>[this.rate(t,e),e]).filter(t=>!!t[0]).sort((t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0).map(t=>t[1]),this.renderOptions()},this.onClickOutside=t=>{this.close(t)},this.close=t=>{this.domUL&&this.domRoot&&(t&&this.domRoot.contains(t.target)||(window.removeEventListener("click",this.onClickOutside),window.removeEventListener("resize",this.onResize),this.domUL.remove(),this.domUL=null,this.class.delete(a.open),this.class.delete(a.upperSelect),this.domRoot.setAttribute("class",[...this.class].join(" ")),this.domInput&&(this.domInput.value=this.value)))},this.onResize=()=>{this.matchUpOrDown(),this.rerenderListItems(),this.domInput&&this.domInput.scrollIntoView()},this.matchUpOrDown=()=>{if(!this.domUL||!this.domInput||!this.domRoot)return;let t=this.domInput.getBoundingClientRect(),e=window.innerHeight-t.height-t.top-16,i=t.top-16;e<f?(e=Math.max(f,i),this.class.add(a.upperSelect),this.domRoot.setAttribute("class",[...this.class].join(" "))):(this.class.delete(a.upperSelect),this.domRoot.setAttribute("class",[...this.class].join(" "))),this.domUL.style.maxHeight=`${e}px`},this.onScroll=()=>{this.rerenderListItems()},this.rerenderListItems=function(t,e){let i=Date.now(),s=function(){let t=Date.now();i+10-t<=0?(requestAnimationFrame(e),i=t):setTimeout(s,i+10-t)};return s}(0,async()=>{if(!this.domUL)return;let t=this.offset,e=this.itemsCount;this.scroll=this.domUL.scrollTop,this.class.has(a.upperSelect)&&(this.scroll=-this.domUL.scrollTop+this.domUL.scrollHeight-this.domUL.clientHeight),this.matchListPaddings();let i=[this.domUL.firstChild,this.domUL.lastChild],s=Array.prototype.slice.call(this.domUL.querySelectorAll("li"));if(this.offset>t){let i=this.offset-t;i>e&&(i=e),s.splice(0,i).forEach(t=>t.remove()),e-=i,t=this.offset}if(this.itemsCount+this.offset<t+e){let i=t+e-this.itemsCount-this.offset;i>e&&(i=e),s.splice(e-i,i).forEach(t=>t.remove()),e-=i}let o=[],n=[];if(this.offset<t){let i=Math.min(t-this.offset,this.itemsCount-e);for(let t=this.offset;t<this.offset+i;t++)n.push(this.renderLi(t));e+=i,t=this.offset}if(this.itemsCount>e){for(let t=this.offset+e;t<this.itemsCount+this.offset;t++)o.push(this.renderLi(t));e=this.itemsCount}i[0].after(...n),i[1].before(...o),i[0].style.height=`${this.offset*p}px`,i[1].style.height=`${(this.options.length-this.offset-this.itemsCount)*p}px`,this.class.has(a.upperSelect)?this.domUL.scrollTop=-this.scroll+this.domUL.scrollHeight-this.domUL.clientHeight:this.domUL.scrollTop=this.scroll}),this.loadCountry()}mount(){return this.domRoot=s`
      <div class="${[...this.class].join(" ")}">
        <label for="country-input">Country</label>
        <input
          id="country-input"
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          spellcheck="false"
          class="${a.input}"
          placeholder="Country"
        />
        <i></i>
      </div>
    `,this.domInput=this.domRoot.querySelector(`.${a.input}`),this.domInput.addEventListener("click",this.onInputClick,{passive:!0}),this.domInput.addEventListener("focus",this.onFocus,{passive:!0}),this.domInput.addEventListener("input",this.onInput,{passive:!0}),this.domInput.addEventListener("blur",this.onBlur,{passive:!0}),this.domRoot}unmount(){this.domRoot&&(this.domRoot.remove(),this.domRoot=null),this.domInput=null,this.domUL=null,window.removeEventListener("click",this.onClickOutside),window.removeEventListener("resize",this.onResize)}async loadCountry(){d||(d=new Promise(t=>requestAnimationFrame(()=>i.e(1).then(i.bind(null,5)).then(t)))),c||(c=new Promise(t=>requestAnimationFrame(()=>i.e(2).then(i.bind(null,6)).then(t)))),this.country=(await d).Country,this.emoji=(await c).Emoji}setValue(t,e){this.value=t,this.code=e,this.domInput&&(this.domInput.value=t),this.domRoot&&(this.class.add(a.withLabel),this.domRoot.setAttribute("class",[...this.class].join(" ")))}rate(t,e){t=this.strip(t);let i=this.strip(e[0]).indexOf(t),s=this.strip(e[1]).indexOf(t),o=this.strip(e[2]).indexOf(t);if(i<0&&s<0&&o<0)return"";let n=1333;return 0===i?n-=200:i>0&&(n-=100),0===s?n-=2:s>0&&(n-=1),0===o?n-=20:o>0&&(n-=10),`${n}${e[0]}`}strip(t){return t.toLowerCase().trim().replace(/[^\w\d]/g,"")}async mountSelect(){await d,await c,this.domInput&&this.domRoot&&(this.domUL||(this.options=this.country,this.domUL=s`
      <ul class=${a.list}></ul>
    `,this.domUL.addEventListener("scroll",this.onScroll,{passive:!0}),this.matchUpOrDown(),window.addEventListener("resize",this.onResize,{passive:!0}),this.renderOptions(),this.domRoot.appendChild(this.domUL),this.class.add(a.open),this.domRoot.setAttribute("class",[...this.class].join(" ")),window.addEventListener("click",this.onClickOutside,{passive:!0}),this.domInput.scrollIntoView()))}matchListPaddings(){if(!this.domUL)return;let t=this.domUL.clientHeight;t<f?t=window.innerHeight:t+=2*p,this.itemsCount=Math.ceil(t/p),this.offset=Math.floor(this.scroll/p)-1,this.offset>=this.options.length&&(this.offset=this.options.length-1),this.offset<0&&(this.offset=0),this.offset+this.itemsCount>this.options.length&&(this.itemsCount=this.options.length-this.offset)}renderOptions(){if(this.domUL){this.domUL.innerHTML="",this.scroll=0,this.matchListPaddings(),this.domUL.append(s`
        <div style="height: ${this.offset*p}px;"></div>
      `);for(let t=0;t<this.itemsCount&&!(t+this.offset>=this.options.length);t++)this.domUL.appendChild(this.renderLi(t));this.domUL.append(s`
        <div
          style="height: ${(this.options.length-this.offset-this.itemsCount)*p}px;"
        ></div>
      `)}}renderLi(t){let e=this.options[t],i=this.emoji.get(`:flag_${e[2].toLowerCase()}:`),o=s`
      <li role="group" tabindex="-1">
        ${i?`<i>${i}</i>`:`<i style="background-image: url('flags/${e[2].toLowerCase()}.png');"></i>`}
        <div>${e[1]}</div>
        <span>${e[0]}</div>
      </li>
    `;return o.addEventListener("click",()=>{this.domInput&&(this.setValue(e[1],e[0]),this.close())},{passive:!0,once:!0}),o}}var w=i(1);class y{constructor(){this.domRoot=null,this.domInput=null}mount(){return this.domRoot=s`
      <div class="${w.root}"><input class="${w.input}" /></div>
    `,this.domInput=this.domRoot.querySelector(`.${w.input}`),this.domRoot}unmount(){this.domRoot&&(this.domRoot.remove(),this.domRoot=null)}}var g=i(2);class v{constructor(){this.rootNode=null,this.countrySelect=new m,this.phone=new y}mount(){return this.rootNode=s`
      <div class=${g.root}>
        <div class=${g.logo}></div>
        <h1>Sign in to Telegram</h1>
        <p>
          Please confirm your country and<br />
          enter your phone number
        </p>
      </div>
    `,this.rootNode.appendChild(this.countrySelect.mount()),this.rootNode}}i(3),i(4);const b=new class{constructor(t){this.dc=2,this.nonce=u=crypto.getRandomValues(new Uint8Array(16)),this.authKey=null,this.serverSaltHex=null,this.props=t}async mtpSendPlainRequest(t){let e=function(){let t=o.find(t=>2===t.id&&!0===t.isTest);if(!t)throw new Error("unknown dc with id 2 isTest:true");return`https://${t.domain}-1.web.telegram.org/apiw1`+"_test"}(),i=await fetch(e,{method:"POST",body:t.getBuffer(),mode:"cors"});await i.arrayBuffer()}writeTempHeader(t){t.writeLong([0,0]),t.writeLong(this.props.timeStore.generateMessageID()),t.writeInt(0)}writeHeaderRequestSize(t){t.writeIntAt(4*(t.size-5),4)}async fetchPQ(){let t=new l;this.writeTempHeader(t),t.writeMethod(r,[this.nonce]),this.writeHeaderRequestSize(t),await this.mtpSendPlainRequest(t),t.destroy()}}({timeStore:new class{constructor(){this.offset=0,this.lastMessageIDTime=0}now(){return Date.now()+this.offset}generateMessageID(){let t=this.now();return this.lastMessageIDTime>=t&&(t=this.lastMessageIDTime+1),this.lastMessageIDTime=t,[t%1e3<<21|crypto.getRandomValues(new Uint16Array(1))[0]<<3|4,Math.floor(t/1e3)]}}}),L=new class{constructor(){this.signIn=new v}mount(){return this.signIn.mount()}};document.body.appendChild(L.mount()),requestAnimationFrame(()=>b.fetchPQ())}]);
//# sourceMappingURL=main.dc53.js.map